name: signal-app
region: us-east-1
frontend:
  directory: static
  build:
    - npm install
    - npm run build
  deploy:
    - build/**

backend:
  - name: signal-service
    runtime: python3.9
    path: .
    entry: app.py
    wsgi: app
    environment:
      - SIGNALS_FILE=signals.json
    triggers:
      - http:
          cors: true
          path: /api
    packages:
      - flask==2.0.1

scripts:
  preBackendDeploy:
    - pip install -r requirements.txt

ignore:
  - "*.pyc"
  - "__pycache__"
  - ".env"
  - ".git"
  - ".gitignore"
  - "signals.json"
  - "node_modules"